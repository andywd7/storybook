import {
  Meta,
  Title,
  Subtitle,
  Story,
  Canvas,
  ArgsTable 
} from '@storybook/addon-docs/blocks'
import { Var } from "@dan-nz/storybook-documentation-primitives"
import groupBy from "lodash/groupBy"
import { store } from "../../components/store"
import { SPACING_08 } from "../../tokens/web/js/tokensAndPalette"

export const typeData = () => {
  return t.attributes.category === "color"
    ? groupBy(t.attributes.type, "attributes.type")
    : t.attributes.type
}

export const tokensColors = Object.values(store.tokens.color).map((t, i) => {
  const styles = {
    backgroundColor: t.value,
    borderRadius: SPACING_08,
    height: SPACING_08,
    width: SPACING_08
  }
  return (
    <tr key={i}>
      <td><Var>{"$" + t.name}</Var></td>
      <td>
        <div className="token-value">
          <div>
            {t.valueName}
            <br/>
            -
            <br/>
            <Var>{t.value}</Var>
          </div>
          <div style={styles} />
        </div>
      </td>
    </tr>
  )
})

<Meta title='TOKENS/Colors/Col' parameters={{ previewTabs: { canvas: { hidden: true } } }} />

<Title />

<Subtitle>Tokens subtitle</Subtitle>

<table className="table">
  <thead className="thead-dark">
    <tr>
        <th width="120">Token</th>
        <th width="120">Value</th>
    </tr>
  </thead>
  <tbody>{tokensColors}</tbody>
</table>
